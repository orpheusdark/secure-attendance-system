
# 📑 System Workflow – Secure Attendance System

This document explains the **workflow of the attendance system** across different user roles: **Student, Teacher, HOD, and Admin**.  
The solution ensures attendance is **proxy-proof** using **Geo-fenced OTP** and **Reverse QR/Beacon confirmation**.

---

## 🔑 Core Workflow (End-to-End)

1. **Teacher starts class** → Generates a time-bound OTP/QR (valid for 30 seconds).  
2. **Students scan OTP/QR** → Attendance marked as **Pending** only if:
   - OTP is valid (not expired).
   - Student is inside the classroom **geofence**.  
3. **Teacher confirms** → Either by scanning student reverse QR or using BLE beacon auto-detection.  
4. **Backend updates attendance** → Status changes from **Pending → Confirmed**.  
5. **HOD/Admin dashboards** → Attendance records are updated in real-time with analytics.

---

## 👨‍🎓 Student Workflow

1. Login with **Student credentials**.  
2. On class start:
   - Open app → Scan OTP/QR from teacher’s screen.  
   - Share GPS location automatically.  
3. Backend checks:
   - OTP validity.  
   - Geofence boundary check.  
4. Attendance status = **Pending**.  
5. At confirmation phase:
   - Student shows their **Reverse QR** (generated by app).  
   - Teacher scans it OR beacon detects presence.  
6. Attendance status = **Confirmed**.  
7. Student can view **attendance history** in profile.

---

## 👨‍🏫 Teacher Workflow

1. Login with **Teacher credentials**.  
2. Select subject + class.  
3. Click **Start Attendance** → System generates **time-bound OTP/QR**.  
4. Students scan → Attendance marked as **Pending**.  
5. After scan window ends:
   - Teacher clicks **Confirm Attendance**.  
   - Teacher scans student reverse QR codes (or auto-confirms via BLE beacon).  
6. Attendance status = **Confirmed**.  
7. Teacher can view:
   - List of students present.  
   - Proxy attempts (invalid location, expired OTP).  
   - Export class attendance summary.

---

## 👨‍💼 HOD Workflow

1. Login with **HOD credentials**.  
2. Access **class/subject-wise attendance reports**.  
3. Monitor flagged **proxy attempts**:
   - Students scanning OTP outside geofence.  
   - Students not confirmed by teacher.  
4. Generate **PDF/Excel reports** for departmental records.  
5. Track teacher activity (e.g., attendance sessions conducted).  

---

## 🛠️ Admin Workflow

1. Login with **Admin credentials**.  
2. Manage:
   - Users (Students, Teachers, HODs).  
   - Classes & Subjects.  
   - Global settings (OTP expiry time, geofence radius, beacon configuration).  
3. Monitor logs:
   - OTP generation.  
   - Attendance confirmations.  
   - Failed scans & proxy attempts.  
4. View **analytics dashboards**:
   - Overall attendance trends.  
   - Teacher activity summary.  
   - Department comparison.  

---

## 🔄 Status Flow

```text
Pending Attendance  →  Teacher Confirmation  →  Confirmed Attendance
         │
         └─> Rejected (if invalid location / OTP expired / not confirmed)
````

---

## 📊 Summary Table

| Role    | Actions                                                          | Output                        |
| ------- | ---------------------------------------------------------------- | ----------------------------- |
| Student | Scan OTP/QR + GPS validation → Show Reverse QR for confirmation  | Attendance Confirmed/Rejected |
| Teacher | Generate OTP/QR → Confirm via Reverse QR/Beacon → Export summary | Class attendance list         |
| HOD     | Monitor reports → Flag proxy attempts → Export analytics         | Department-wise attendance    |
| Admin   | Manage users, settings, logs → Track system health               | Global analytics + management |

---

✅ With this workflow, **proxy attendance becomes nearly impossible**, as attendance requires **OTP + location + teacher confirmation**.

```

---

